#!/bin/bash
cd "$(dirname "$0")"

#################################################
# Loads the correct module
#
# @param $1: All parameters passed to Originator 
#################################################
Originator__dispatch() {
    IFS=':' read -ra segment <<< "$1"
    for part in "${segment[@]}"; do
        module_location="./modules/$part"
        if [ -e $bootstrap_file  ]; then
            cd $module_location;
            . "bootstrap.bash"
        else
            echo "Module $part does not exist."
        fi
        break
    done
}


#################################################
# Start
#################################################
Originator__dispatch "$@"

